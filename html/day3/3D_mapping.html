

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="et" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="et" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Praktikum 6 - 3D kaardistamine &mdash; ROS Koolitus 0.1 dokumentatsioon</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
        <script type="text/javascript" src="../_static/translations.js"></script>
        <script type="text/javascript" src="../_static/contentui.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/hacks.css" type="text/css" />
  <link rel="stylesheet" href="../_static/contentui.css" type="text/css" />
    <link rel="index" title="Indeks" href="../genindex.html" />
    <link rel="search" title="Otsing" href="../search.html" />
    <link rel="prev" title="2D kaardistamine, automaatne navigeerimine" href="2D_mapping.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> ROS Koolitus
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">1. Päev</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../day1/linux_ylevaade.html">Linux: Ubuntu 16.04 sissejuhatus</a></li>
<li class="toctree-l1"><a class="reference internal" href="../day1/linux_kasurida.html">Linux: terminal ja käsurida</a></li>
<li class="toctree-l1"><a class="reference internal" href="../day1/linux_tarkvara_paigaldamine.html">Linux: Uue tarkvara paigaldamine</a></li>
<li class="toctree-l1"><a class="reference internal" href="../day1/linux_programmide_kaivitamine.html">Linux: Programmide käivitamine</a></li>
<li class="toctree-l1"><a class="reference internal" href="../day1/ssh_robotisse.html">Kaugteel robotisse sisenemine (ssh)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../day1/roboti_draiveri_kaivitamine.html">Roboti ROS juhtprogrammi käivitamine</a></li>
<li class="toctree-l1"><a class="reference internal" href="../day1/roboti_klaviatuurilt_juhtimine.html">Roboti juhtimine klaviatuuriga</a></li>
</ul>
<p class="caption"><span class="caption-text">2. Päev</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../day2/ROS_intro.html">ROS sissejuhatus</a></li>
<li class="toctree-l1"><a class="reference internal" href="../day2/move.html">Programmeerime ROS roboti sõitma</a></li>
<li class="toctree-l1"><a class="reference internal" href="../day2/loops.html"><em>For</em>- ja <em>while</em> tsüklid roboti juhtimisel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../day2/functions.html">Funktsioonid</a></li>
<li class="toctree-l1"><a class="reference internal" href="../day2/sensors.html">Roboti andurite info kuvamine</a></li>
<li class="toctree-l1"><a class="reference internal" href="../day2/AR_markerid.html">AR markerid</a></li>
</ul>
<p class="caption"><span class="caption-text">3. Päev</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="2D_mapping.html">2D kaardistamine, automaatne navigeerimine</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Praktikum 6 - 3D kaardistamine</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#d-kaardistamine">3D kaardistamine</a></li>
<li class="toctree-l2"><a class="reference internal" href="#mis-on-punktipilv">Mis on punktipilv?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#kaardistamine-toovahendiga-rtab-map">Kaardistamine töövahendiga RTAB-Map</a></li>
<li class="toctree-l2"><a class="reference internal" href="#proovime-soita-ainult-kaarti-vaadates">Proovime sõita ainult kaarti vaadates</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">ROS Koolitus</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Praktikum 6 - 3D kaardistamine</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/day3/3D_mapping.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="praktikum-6-3d-kaardistamine">
<h1>Praktikum 6 - 3D kaardistamine<a class="headerlink" href="#praktikum-6-3d-kaardistamine" title="Püsiviit sellele pealkirjale">¶</a></h1>
<div class="section" id="d-kaardistamine">
<h2>3D kaardistamine<a class="headerlink" href="#d-kaardistamine" title="Püsiviit sellele pealkirjale">¶</a></h2>
<p>Kui eelnevalt oleme vaadanud vaid 2D andmeid, laserskanni ja kaugusi ning nende abil robotit liigutanud,
siis nüüd hakkame kasutama 3D punktipilve, mille jäädvustamiseks meie kaamera võimeline on.</p>
</div>
<div class="section" id="mis-on-punktipilv">
<h2>Mis on punktipilv?<a class="headerlink" href="#mis-on-punktipilv" title="Püsiviit sellele pealkirjale">¶</a></h2>
<p>Punktipilv näitab meile takistuste kaugusi kaamerast. Need kaugused saab kombineerida kaamerapildiga, et näha värvilist pilti. Proovime järele.</p>
<ol class="arabic">
<li><p class="first">Ava terminaliaken ning loo ssh-ühendus robotisse.</p>
</li>
<li><p class="first">Sisesta terminaliaknasse</p>
<p><strong>roslaunch robotont_teleop teleop_bare_with_camera.launch</strong></p>
</li>
<li><p class="first">Ava uus terminaliaken ning trüki sinna</p>
<p><strong>roslaunch robotont_description display_camera.launch</strong></p>
</li>
<li><p class="first">Nüüd peaksid nägema RVizis 3D kaamerapilti.</p>
</li>
</ol>
<p>Proovime ka ringi sõita ja vaadata, kuidas robot maailma näeb.</p>
<ol class="arabic">
<li><p class="first">Ava terminaliaken ning loo ssh-ühendus robotisse.</p>
</li>
<li><p class="first">Trüki terminaliaknasse</p>
<p><strong>roslaunch robotont_teleop teleop_pc_side.launch</strong></p>
<p>Selles terminaliaknas saad robotit juhtida.</p>
</li>
</ol>
<p>Kui oled lõpetanud, pane terminaliaknad kinni.</p>
</div>
<div class="section" id="kaardistamine-toovahendiga-rtab-map">
<h2>Kaardistamine töövahendiga RTAB-Map<a class="headerlink" href="#kaardistamine-toovahendiga-rtab-map" title="Püsiviit sellele pealkirjale">¶</a></h2>
<p>Nagu 2D kaardiga, siis saame kaarti genereerida ka 3D vaates.
Selline protsess on küll palju ressursinõudlikum, kuid saame oma kaardile juurde terve ruumimõõtme.</p>
<blockquote>
<div><div class="figure">
<a class="reference internal image-reference" href="../_images/3dmap.png"><img alt="../_images/3dmap.png" src="../_images/3dmap.png" style="width: 785.4px; height: 554.4px;" /></a>
</div>
</div></blockquote>
<ol class="arabic">
<li><p class="first">Ava terminaliaken ning loo ssh-ühendus robotisse.</p>
</li>
<li><p class="first">Sisesta terminaliaknasse</p>
<p><strong>roscore</strong></p>
<p>See terminaliaken hoolitseb selle eest, et süsteem käimas püsiks, see terminaliaken võib jääda tahaplaanile käima.</p>
</li>
<li><p class="first">Ava terminaliaken ning loo ssh-ühendus robotisse.</p>
</li>
<li><p class="first">Sisesta käsureale</p>
</li>
</ol>
<p><strong>roslaunch robotont_teleop teleop_3dmapping.launch</strong></p>
<ol class="arabic" start="5">
<li><p class="first">Ava uus terminaliaken ning trüki sinna</p>
<p><strong>roslaunch robotont_description display_3dmapping.launch</strong></p>
</li>
<li><p class="first">Ava uus terminaliaken ning trüki sinna</p>
<p><strong>roslaunch robotont_teleop teleop_pc_side.launch</strong></p>
<p>Selles terminaliaknas saad robotit juhtida</p>
</li>
<li><p class="first">Sõida ringi ja kaardista ruumi.</p>
</li>
<li><p class="first">Kui oled oma kaardiga rahul, näita juhendajale.</p>
</li>
</ol>
<p>Vaikeväärtustega on näha, et genereeritud kaart on võrdlemisi hõre: objekte ja nende asukohti on keeruline tuvastada, kuigi sügavuskaamera pilt ise on kvaliteetne.
Seega proovime parandada seda olukorda, muutes mõningaid parameetreid.</p>
<p><em>linear_update</em> - määrab kaardi uuendamiskiiruse lineaarse liikumise korral (mitme meetri järel kaarti uuendatakse)</p>
<p><em>angular_update</em> - määrab kaardi uuendamiskiiruse pööramise korral (kui palju peab pöörama, et kaart uueneks)</p>
<p><em>cell_size</em> - määrab punktide vahekauguse</p>
<ol class="arabic">
<li><p class="first">Võta ette terminaliaken, kus sisestasid</p>
<p><strong>roslaunch robotont_teleop teleop_3dmapping.launch</strong></p>
</li>
<li><p class="first">Vajuta Ctrl+C, et lõpetada praegune protsess.</p>
</li>
<li><p class="first">Sisesta terminaliaknasse</p>
<p><strong>roslaunch robotont_teleop teleop_3dmapping.launch angular_update:=0.1 linear_update:=0.1 cell_size:=0.1</strong></p>
<p>Ctrl+C abil protsessi seisates, numbreid muutes ning siis uuesti käivitades, proovi aru saada, kuidas muutub genereeritav kaart.</p>
</li>
<li><p class="first">Muudatused parameetrites ja vaatlused, kuidas kaardi genereerimine muutub, pane kirja oma õpimappi.</p>
</li>
<li><p class="first">Korda protsessi kuni kaart on piisavalt selge, et sealt objekte eristada ning näita lõpptulemust juhendajale.</p>
</li>
</ol>
</div>
<div class="section" id="proovime-soita-ainult-kaarti-vaadates">
<h2>Proovime sõita ainult kaarti vaadates<a class="headerlink" href="#proovime-soita-ainult-kaarti-vaadates" title="Püsiviit sellele pealkirjale">¶</a></h2>
<p>Nüüd kui meil on olemas kvaliteetne kaart, siis proovime juhtida robotit vaadates ainult arvutiekraanil kaarti.
Ülesanne on leida, mis on juhendaja öeldud kohtades.
Sõita tuleb ettevaatlikult, sest robot ei pruugi reageerida nupuvajutustele kohe ning samuti ei pruugi pilt alati reaalajas uueneda.</p>
<ol class="arabic simple">
<li>Käivita eelnevalt paika sätitud argumentidega teleop_3dmapping.</li>
<li>Sõiduta robot kõrvatuppa ning kaardista kogu ruum.</li>
<li>Arvutiekraanilt nähtava kaardi abil selgita juhendajatele, mida võib leida sealt ruumist.</li>
</ol>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="2D_mapping.html" class="btn btn-neutral float-left" title="2D kaardistamine, automaatne navigeerimine" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Litsents CC BY-ND-NC, Madis Kaspar Nigol, Veiko Vunder, Renno Raudmäe, Karl Kruusamäe

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>